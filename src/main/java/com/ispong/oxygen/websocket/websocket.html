<!DOCTYPE HTML>
<html lang="utf-8">
<head>
    <meta charset="utf-8">
    <title>websocket 测试</title>
    
    <script type="text/javascript">

        if ("WebSocket" in window) {
            alert("您的浏览器支持 WebSocket!");
        } else {
            alert("您的浏览器不支持 WebSocket!");
        }

        let ws;

        function webSocketConnect() {

            ws = new WebSocket("ws://localhost:8888/spring-oxygen/ws/websocketHandler");

            ws.onopen = function () {
                console.log("webSocket握手...");
            };

            ws.onerror = function () {
                console.log("连接失败...");
            };

            ws.onmessage = function (evt) {
                console.log("webSocket推送数据...");
                console.log(evt.data);
            };
        }

        function webSocketClose() {
            ws.onclose = function () {
                console.log("webSocket断开连接...");
            };
        }

    </script>

</head>
<body>

<div>
    <a href="javascript:webSocketConnect()">连接 WebSocket</a>
    <br>
    <a href="javascript:webSocketClose()">断开 WebSocket</a>
</div>

</body>
</html>