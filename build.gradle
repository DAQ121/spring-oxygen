plugins {
	id 'org.springframework.boot' version '2.2.4.RELEASE' apply false
	id 'io.spring.dependency-management' version '1.0.9.RELEASE' apply false
}

apply plugin: 'java'
apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'

repositories {
	maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
	mavenCentral()
}

dependencies {
	compile(project(':spring-oxygen-wechatgo'))
	compile(project(':spring-oxygen-flysql'))
	implementation 'org.springframework.boot:spring-boot-starter'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
	compile 'org.springframework.boot:spring-boot-starter-web'
	compile 'org.springframework.boot:spring-boot-starter-aop'
	compile 'org.springframework.boot:spring-boot-starter-websocket'
	annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'
	compile 'org.springframework.boot:spring-boot-starter-data-jpa'
	compile 'org.springframework.boot:spring-boot-starter-actuator'
//	compile 'org.springframework.boot:spring-boot-starter-security'
//	compile 'org.springframework.data:spring-data-redis'
//	compile 'org.springframework.boot:spring-boot-starter-amqp'
//	compile 'io.lettuce:lettuce-core:latest.integration'
	compile 'org.dom4j:dom4j:latest.integration'
	compile 'org.springframework.boot:spring-boot-starter-freemarker'
	compile 'org.springframework.boot:spring-boot-starter-thymeleaf'
	compile 'org.springframework.boot:spring-boot-starter-mail'
	compileOnly 'org.projectlombok:lombok:latest.integration'
	annotationProcessor 'org.projectlombok:lombok:latest.integration'
	testCompile 'org.junit.jupiter:junit-jupiter-api:latest.integration'
	compile 'mysql:mysql-connector-java:latest.integration'
	compile 'com.alibaba:fastjson:latest.integration'
	compile 'com.github.ulisesbocchio:jasypt-spring-boot-starter:latest.integration'
	compile 'com.alibaba:druid:latest.integration'
}

subprojects {

	apply plugin: 'maven-publish'
	apply plugin: 'java'
	apply plugin: 'org.springframework.boot'
	apply plugin: 'io.spring.dependency-management'

	bootJar {
		enabled false
	}

	jar {
		enabled true
	}

	repositories {
		maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
		mavenCentral()
	}

	dependencies {
		implementation 'org.springframework.boot:spring-boot-starter'
		testImplementation 'org.springframework.boot:spring-boot-starter-test'
		compile 'org.springframework.boot:spring-boot-starter-web'
		compile 'org.springframework.boot:spring-boot-starter-aop'
		annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'
		compile 'org.springframework.boot:spring-boot-starter-data-jpa'
		compile 'org.springframework.boot:spring-boot-starter-freemarker'
//		compile 'org.springframework.boot:spring-boot-starter-thymeleaf'
		compile 'org.springframework.boot:spring-boot-starter-mail'
		compileOnly 'org.projectlombok:lombok:latest.integration'
		annotationProcessor 'org.projectlombok:lombok:latest.integration'
		testCompile 'org.junit.jupiter:junit-jupiter-api:latest.integration'
		compile 'com.alibaba:fastjson:latest.integration'
	}

}
